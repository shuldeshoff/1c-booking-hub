# üìö –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## –ë–∞–∑–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```1c
// –®–∞–≥ 1: –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤–Ω–µ—à–Ω—é—é –æ–±—Ä–∞–±–æ—Ç–∫—É –≤ 1–°
// –§–∞–π–ª ‚Üí –û—Ç–∫—Ä—ã—Ç—å ‚Üí –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.epf

// –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
// –°–º. –ú–æ–¥—É–ª—å–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.txt

// –®–∞–≥ 3: –°–æ–∑–¥–∞–π—Ç–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤-–ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
// –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ ‚Üí –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã ‚Üí –°–æ–∑–¥–∞—Ç—å
```

### 2. –ó–∞–ø—É—Å–∫ –∑–∞–≥—Ä—É–∑–∫–∏

```1c
// –í —Ñ–æ—Ä–º–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–ó–∞–≥—Ä—É–∑–∏—Ç—å –∑–∞–∫–∞–∑—ã –∏–∑ API"
// –ò–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:

–í–Ω–µ—à–Ω—è—è–û–±—Ä–∞–±–æ—Ç–∫–∞ = –í–Ω–µ—à–Ω–∏–µ–û–±—Ä–∞–±–æ—Ç–∫–∏.–°–æ–∑–¥–∞—Ç—å("–ü—É—Ç—å–ö–§–∞–π–ª—É\–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.epf");
–í–Ω–µ—à–Ω—è—è–û–±—Ä–∞–±–æ—Ç–∫–∞.–í—ã–ø–æ–ª–Ω–∏—Ç—å–ö–æ–º–∞–Ω–¥—É("–ó–∞–≥—Ä—É–∑–∏—Ç—å–ó–∞–∫–∞–∑—ã–ò–∑API");
```

## –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞

### –ü—Ä–∏–º–µ—Ä 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ API

```1c
// –í –º–æ–¥—É–ª–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

–§—É–Ω–∫—Ü–∏—è –ü–æ–ª—É—á–∏—Ç—å–ù–∞—Å—Ç—Ä–æ–π–∫–∏–ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è() –≠–∫—Å–ø–æ—Ä—Ç
    
    –ù–∞—Å—Ç—Ä–æ–π–∫–∏ = –ù–æ–≤—ã–π –°—Ç—Ä—É–∫—Ç—É—Ä–∞;
    
    // –í–∞—à API —Å–µ—Ä–≤–µ—Ä
    –ù–∞—Å—Ç—Ä–æ–π–∫–∏.–í—Å—Ç–∞–≤–∏—Ç—å("URL–°–µ—Ä–≤–µ—Ä–∞", "api.–≤–∞—à—Å–µ—Ä–≤–µ—Ä.ru");
    
    // –¢–∞–π–º–∞—É—Ç—ã –∏ retry
    –ù–∞—Å—Ç—Ä–æ–π–∫–∏.–í—Å—Ç–∞–≤–∏—Ç—å("–¢–∞–π–º–∞—É—Ç–°–æ–µ–¥–∏–Ω–µ–Ω–∏—è", 30);
    –ù–∞—Å—Ç—Ä–æ–π–∫–∏.–í—Å—Ç–∞–≤–∏—Ç—å("–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ–ü–æ–ø—ã—Ç–æ–∫", 3);
    
    –í–æ–∑–≤—Ä–∞—Ç –ù–∞—Å—Ç—Ä–æ–π–∫–∏;
    
–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏
```

### –ü—Ä–∏–º–µ—Ä 2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞

```1c
// –®–∞–≥ 1: –î–æ–±–∞–≤—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ –≤ –ú–æ–¥—É–ª—å–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ù–∞—Å—Ç—Ä–æ–π–∫–∏–ü–æ—Å—Ç–∞–≤—â–∏–∫–∞ = –ù–æ–≤—ã–π –°—Ç—Ä—É–∫—Ç—É—Ä–∞;
–ù–∞—Å—Ç—Ä–æ–π–∫–∏–ü–æ—Å—Ç–∞–≤—â–∏–∫–∞.–í—Å—Ç–∞–≤–∏—Ç—å("–ò–º—è–íAPI", "new-provider");
–ù–∞—Å—Ç—Ä–æ–π–∫–∏–ü–æ—Å—Ç–∞–≤—â–∏–∫–∞.–í—Å—Ç–∞–≤–∏—Ç—å("–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞", "–ù–û–í–´–ô –ü–û–°–¢–ê–í–©–ò–ö –û–û–û");
–ù–∞—Å—Ç—Ä–æ–π–∫–∏–ü–æ—Å—Ç–∞–≤—â–∏–∫–∞.–í—Å—Ç–∞–≤–∏—Ç—å("–î–æ–≥–æ–≤–æ—Ä", "‚Ññ003 –æ—Ç 01.03.2024");
–ù–∞—Å—Ç—Ä–æ–π–∫–∏–ü–æ—Å—Ç–∞–≤—â–∏–∫–∞.–í—Å—Ç–∞–≤–∏—Ç—å("–¢–∏–ø–†–∞—Å—á–µ—Ç–∞–ö–æ–º–∏—Å—Å–∏–∏", "–ü—Ä–æ—Ü–µ–Ω—Ç–û—Ç–¶–µ–Ω—ã");
–ù–∞—Å—Ç—Ä–æ–π–∫–∏–ü–æ—Å—Ç–∞–≤—â–∏–∫–∞.–í—Å—Ç–∞–≤–∏—Ç—å("–ü—Ä–æ—Ü–µ–Ω—Ç–ö–æ–º–∏—Å—Å–∏–∏", 5); // 5%

–ù–∞—Å—Ç—Ä–æ–π–∫–∏–ü–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤.–í—Å—Ç–∞–≤–∏—Ç—å("new-provider", –ù–∞—Å—Ç—Ä–æ–π–∫–∏–ü–æ—Å—Ç–∞–≤—â–∏–∫–∞);

// –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞ –≤ 1–° —Å —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–º –ê–≥–µ–Ω—ÇAPI = "new-provider"

// –®–∞–≥ 3: –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–Ω–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∑–∞–∫–∞–∑—ã –æ—Ç –Ω–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
```

### –ü—Ä–∏–º–µ—Ä 3: –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —Ä–∞—Å—á–µ—Ç–∞ –∫–æ–º–∏—Å—Å–∏–∏

```1c
// –î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ—é –ª–æ–≥–∏–∫—É —Ä–∞—Å—á–µ—Ç–∞ –≤ –º–æ–¥—É–ª—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏:

–§—É–Ω–∫—Ü–∏—è –†–∞—Å—Å—á–∏—Ç–∞—Ç—å–ö–æ–º–∏—Å—Å–∏—é(–î–∞–Ω–Ω—ã–µ–ó–∞–∫–∞–∑–∞, –ù–∞—Å—Ç—Ä–æ–π–∫–∏–ü–æ—Å—Ç–∞–≤—â–∏–∫–∞)
    
    –¢–∏–ø–†–∞—Å—á–µ—Ç–∞ = –ù–∞—Å—Ç—Ä–æ–π–∫–∏–ü–æ—Å—Ç–∞–≤—â–∏–∫–∞.–¢–∏–ø–†–∞—Å—á–µ—Ç–∞–ö–æ–º–∏—Å—Å–∏–∏;
    
    –ï—Å–ª–∏ –¢–∏–ø–†–∞—Å—á–µ—Ç–∞ = "–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è" –¢–æ–≥–¥–∞
        –í–æ–∑–≤—Ä–∞—Ç –ù–∞—Å—Ç—Ä–æ–π–∫–∏–ü–æ—Å—Ç–∞–≤—â–∏–∫–∞.–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è–ö–æ–º–∏—Å—Å–∏—è;
        
    –ò–Ω–∞—á–µ–ï—Å–ª–∏ –¢–∏–ø–†–∞—Å—á–µ—Ç–∞ = "–ü—Ä–æ—Ü–µ–Ω—Ç–û—Ç–¶–µ–Ω—ã" –¢–æ–≥–¥–∞
        –¶–µ–Ω–∞ = –î–∞–Ω–Ω—ã–µ–ó–∞–∫–∞–∑–∞.rooms[0].priceDetails.clientPrice.price;
        –ü—Ä–æ—Ü–µ–Ω—Ç = –ù–∞—Å—Ç—Ä–æ–π–∫–∏–ü–æ—Å—Ç–∞–≤—â–∏–∫–∞.–ü—Ä–æ—Ü–µ–Ω—Ç–ö–æ–º–∏—Å—Å–∏–∏;
        –í–æ–∑–≤—Ä–∞—Ç –¶–µ–Ω–∞ * –ü—Ä–æ—Ü–µ–Ω—Ç / 100;
        
    –ò–Ω–∞—á–µ–ï—Å–ª–∏ –¢–∏–ø–†–∞—Å—á–µ—Ç–∞ = "–ü—Ä–æ—Ü–µ–Ω—Ç–û—Ç–ì—Ä–æ—Å—Å" –¢–æ–≥–¥–∞
        Gross = –î–∞–Ω–Ω—ã–µ–ó–∞–∫–∞–∑–∞.rooms[0].priceDetails.clientPrice.gross;
        Net = –î–∞–Ω–Ω—ã–µ–ó–∞–∫–∞–∑–∞.rooms[0].priceDetails.clientPrice.net;
        –í–æ–∑–≤—Ä–∞—Ç Gross - Net;
        
    // –î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–∏ —Ç–∏–ø—ã —Ä–∞—Å—á–µ—Ç–∞ –∑–¥–µ—Å—å
    –ò–Ω–∞—á–µ–ï—Å–ª–∏ –¢–∏–ø–†–∞—Å—á–µ—Ç–∞ = "–°—Ç—É–ø–µ–Ω—á–∞—Ç–∞—è" –¢–æ–≥–¥–∞
        // –ö–æ–º–∏—Å—Å–∏—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å—É–º–º—ã –∑–∞–∫–∞–∑–∞
        –¶–µ–Ω–∞ = –î–∞–Ω–Ω—ã–µ–ó–∞–∫–∞–∑–∞.rooms[0].priceDetails.clientPrice.price;
        
        –ï—Å–ª–∏ –¶–µ–Ω–∞ < 10000 –¢–æ–≥–¥–∞
            –í–æ–∑–≤—Ä–∞—Ç –¶–µ–Ω–∞ * 0.05; // 5%
        –ò–Ω–∞—á–µ–ï—Å–ª–∏ –¶–µ–Ω–∞ < 50000 –¢–æ–≥–¥–∞
            –í–æ–∑–≤—Ä–∞—Ç –¶–µ–Ω–∞ * 0.03; // 3%
        –ò–Ω–∞—á–µ
            –í–æ–∑–≤—Ä–∞—Ç –¶–µ–Ω–∞ * 0.02; // 2%
        –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
        
    –ò–Ω–∞—á–µ
        –í—ã–∑–≤–∞—Ç—å–ò—Å–∫–ª—é—á–µ–Ω–∏–µ "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ç–∏–ø —Ä–∞—Å—á–µ—Ç–∞ –∫–æ–º–∏—Å—Å–∏–∏: " + –¢–∏–ø–†–∞—Å—á–µ—Ç–∞;
    –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
    
–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏
```

### –ü—Ä–∏–º–µ—Ä 4: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

```1c
// –î–æ–±–∞–≤—å—Ç–µ –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –∑–∞–∫–∞–∑–∞:

–§—É–Ω–∫—Ü–∏—è –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å–ó–∞–∫–∞–∑(–î–∞–Ω–Ω—ã–µ–ó–∞–∫–∞–∑–∞)
    
    –û—à–∏–±–∫–∏ = –ù–æ–≤—ã–π –ú–∞—Å—Å–∏–≤;
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
    –ï—Å–ª–∏ –ù–ï –î–∞–Ω–Ω—ã–µ–ó–∞–∫–∞–∑–∞.–°–≤–æ–π—Å—Ç–≤–æ("orderId") –ò–õ–ò –ü—É—Å—Ç–∞—è–°—Ç—Ä–æ–∫–∞(–î–∞–Ω–Ω—ã–µ–ó–∞–∫–∞–∑–∞.orderId) –¢–æ–≥–¥–∞
        –û—à–∏–±–∫–∏.–î–æ–±–∞–≤–∏—Ç—å("–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –Ω–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞ (orderId)");
    –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
    
    –ï—Å–ª–∏ –ù–ï –î–∞–Ω–Ω—ã–µ–ó–∞–∫–∞–∑–∞.–°–≤–æ–π—Å—Ç–≤–æ("hotelName") –ò–õ–ò –ü—É—Å—Ç–∞—è–°—Ç—Ä–æ–∫–∞(–î–∞–Ω–Ω—ã–µ–ó–∞–∫–∞–∑–∞.hotelName) –¢–æ–≥–¥–∞
        –û—à–∏–±–∫–∏.–î–æ–±–∞–≤–∏—Ç—å("–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –æ—Ç–µ–ª—è");
    –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã rooms
    –ï—Å–ª–∏ –ù–ï –î–∞–Ω–Ω—ã–µ–ó–∞–∫–∞–∑–∞.–°–≤–æ–π—Å—Ç–≤–æ("rooms") –ò–õ–ò –î–∞–Ω–Ω—ã–µ–ó–∞–∫–∞–∑–∞.rooms.–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ() = 0 –¢–æ–≥–¥–∞
        –û—à–∏–±–∫–∏.–î–æ–±–∞–≤–∏—Ç—å("–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –¥–∞–Ω–Ω—ã–µ –æ –∫–æ–º–Ω–∞—Ç–∞—Ö");
    –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–Ω
    –î–ª—è –ö–∞–∂–¥–æ–≥–æ Room –ò–∑ –î–∞–Ω–Ω—ã–µ–ó–∞–∫–∞–∑–∞.rooms –¶–∏–∫–ª
        –ï—Å–ª–∏ –ù–ï Room.–°–≤–æ–π—Å—Ç–≤–æ("priceDetails") –¢–æ–≥–¥–∞
            –û—à–∏–±–∫–∏.–î–æ–±–∞–≤–∏—Ç—å("–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –¥–∞–Ω–Ω—ã–µ –æ —Ü–µ–Ω–∞—Ö");
            –ü—Ä–µ—Ä–≤–∞—Ç—å;
        –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
        
        ClientPrice = Room.priceDetails.clientPrice;
        –ï—Å–ª–∏ ClientPrice.price <= 0 –¢–æ–≥–¥–∞
            –û—à–∏–±–∫–∏.–î–æ–±–∞–≤–∏—Ç—å("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ü–µ–Ω–∞: " + ClientPrice.price);
        –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
    –ö–æ–Ω–µ—Ü–¶–∏–∫–ª–∞;
    
    –í–æ–∑–≤—Ä–∞—Ç –û—à–∏–±–∫–∏;
    
–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
–û—à–∏–±–∫–∏ = –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å–ó–∞–∫–∞–∑(–î–∞–Ω–Ω—ã–µ–ó–∞–∫–∞–∑–∞);
–ï—Å–ª–∏ –û—à–∏–±–∫–∏.–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ() > 0 –¢–æ–≥–¥–∞
    –¢–µ–∫—Å—Ç–û—à–∏–±–æ–∫ = –°—Ç—Ä–°–æ–µ–¥–∏–Ω–∏—Ç—å(–û—à–∏–±–∫–∏, "; ");
    –ó–∞–ø–∏—Å–∞—Ç—å–õ–æ–≥("–û—à–∏–±–∫–∞", "–ó–∞–∫–∞–∑ –Ω–µ –ø—Ä–æ—à–µ–ª –≤–∞–ª–∏–¥–∞—Ü–∏—é: " + –¢–µ–∫—Å—Ç–û—à–∏–±–æ–∫);
    –í–æ–∑–≤—Ä–∞—Ç; // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∑–∞–∫–∞–∑
–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
```

### –ü—Ä–∏–º–µ—Ä 5: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é

```1c
// –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–≥–ª–∞–º–µ–Ω—Ç–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ –≤ 1–°:

// 1. –í –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä–µ: –û–±—â–∏–µ ‚Üí –†–µ–≥–ª–∞–º–µ–Ω—Ç–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è ‚Üí –°–æ–∑–¥–∞—Ç—å
// 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ: "–ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–∫–∞–∑–æ–≤ –∏–∑ API"
–ú–µ—Ç–æ–¥: –û–±—â–∏–µ–ú–æ–¥—É–ª–∏.–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.–ó–∞–≥—Ä—É–∑–∏—Ç—å–ó–∞–∫–∞–∑—ã–ò–∑API–ü–æ–†–∞—Å–ø–∏—Å–∞–Ω–∏—é
–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ: –ö–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç (—Å 8:00 –¥–æ 23:00)

// 3. –í –æ–±—â–µ–º –º–æ–¥—É–ª–µ —Å–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—É:

–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –ó–∞–≥—Ä—É–∑–∏—Ç—å–ó–∞–∫–∞–∑—ã–ò–∑API–ü–æ–†–∞—Å–ø–∏—Å–∞–Ω–∏—é() –≠–∫—Å–ø–æ—Ä—Ç
    
    –ü—É—Ç—å–ö–û–±—Ä–∞–±–æ—Ç–∫–µ = –ü–æ–ª—É—á–∏—Ç—å–ü—É—Ç—å–ö–û–±—Ä–∞–±–æ—Ç–∫–µ();
    
    –ü–æ–ø—ã—Ç–∫–∞
        –í–Ω–µ—à–Ω—è—è–û–±—Ä–∞–±–æ—Ç–∫–∞ = –í–Ω–µ—à–Ω–∏–µ–û–±—Ä–∞–±–æ—Ç–∫–∏.–°–æ–∑–¥–∞—Ç—å(–ü—É—Ç—å–ö–û–±—Ä–∞–±–æ—Ç–∫–µ);
        –í–Ω–µ—à–Ω—è—è–û–±—Ä–∞–±–æ—Ç–∫–∞.–í—ã–ø–æ–ª–Ω–∏—Ç—å–ö–æ–º–∞–Ω–¥—É("–ó–∞–≥—Ä—É–∑–∏—Ç—å–ó–∞–∫–∞–∑—ã–ò–∑API");
        
        –ó–∞–ø–∏—Å—å–ñ—É—Ä–Ω–∞–ª–∞–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏(
            "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è",
            –£—Ä–æ–≤–µ–Ω—å–ñ—É—Ä–Ω–∞–ª–∞–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è,
            ,
            ,
            "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∑–∞–∫–∞–∑–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ");
            
    –ò—Å–∫–ª—é—á–µ–Ω–∏–µ
        –¢–µ–∫—Å—Ç–û—à–∏–±–∫–∏ = –ü–æ–¥—Ä–æ–±–Ω–æ–µ–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–û—à–∏–±–∫–∏(–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è–û–±–û—à–∏–±–∫–µ());
        
        –ó–∞–ø–∏—Å—å–ñ—É—Ä–Ω–∞–ª–∞–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏(
            "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è",
            –£—Ä–æ–≤–µ–Ω—å–ñ—É—Ä–Ω–∞–ª–∞–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.–û—à–∏–±–∫–∞,
            ,
            ,
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–µ: " + –¢–µ–∫—Å—Ç–û—à–∏–±–∫–∏);
    –ö–æ–Ω–µ—Ü–ü–æ–ø—ã—Ç–∫–∏;
    
–ö–æ–Ω–µ—Ü–ü—Ä–æ—Ü–µ–¥—É—Ä—ã
```

### –ü—Ä–∏–º–µ—Ä 6: –û–±—Ä–∞–±–æ—Ç–∫–∞ webhook (–≤—Ö–æ–¥—è—â–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)

```1c
// HTTP-—Å–µ—Ä–≤–∏—Å –¥–ª—è –ø—Ä–∏–µ–º–∞ webhook –æ—Ç API –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞

// –í –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä–µ —Å–æ–∑–¥–∞–π—Ç–µ HTTP-—Å–µ—Ä–≤–∏—Å: HTTP–°–µ—Ä–≤–∏—Å—ã ‚Üí –°–æ–∑–¥–∞—Ç—å

// URL–®–∞–±–ª–æ–Ω: /api/webhook/booking
// –ú–µ—Ç–æ–¥: POST

–§—É–Ω–∫—Ü–∏—è –û–±—Ä–∞–±–æ—Ç–∞—Ç—åWebhook(–ó–∞–ø—Ä–æ—Å)
    
    –û—Ç–≤–µ—Ç = –ù–æ–≤—ã–π HTTP–°–µ—Ä–≤–∏—Å–û—Ç–≤–µ—Ç(200);
    
    –ü–æ–ø—ã—Ç–∫–∞
        // –ß–∏—Ç–∞–µ–º —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞
        –¢–µ–ª–æ–ó–∞–ø—Ä–æ—Å–∞ = –ó–∞–ø—Ä–æ—Å.–ü–æ–ª—É—á–∏—Ç—å–¢–µ–ª–æ–ö–∞–∫–°—Ç—Ä–æ–∫—É();
        
        // –ü–∞—Ä—Å–∏–º JSON
        –î–∞–Ω–Ω—ã–µWebhook = –î–µ—Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å–ò–∑JSON(–¢–µ–ª–æ–ó–∞–ø—Ä–æ—Å–∞);
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–ø–∏—Å—å (–¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
        –ü–æ–¥–ø–∏—Å—å = –ó–∞–ø—Ä–æ—Å.–ó–∞–≥–æ–ª–æ–≤–∫–∏.–ü–æ–ª—É—á–∏—Ç—å("X-Signature");
        –ï—Å–ª–∏ –ù–ï –ü—Ä–æ–≤–µ—Ä–∏—Ç—å–ü–æ–¥–ø–∏—Å—åWebhook(–¢–µ–ª–æ–ó–∞–ø—Ä–æ—Å–∞, –ü–æ–¥–ø–∏—Å—å) –¢–æ–≥–¥–∞
            –û—Ç–≤–µ—Ç = –ù–æ–≤—ã–π HTTP–°–µ—Ä–≤–∏—Å–û—Ç–≤–µ—Ç(401);
            –û—Ç–≤–µ—Ç.–ó–∞–≥–æ–ª–æ–≤–∫–∏.–í—Å—Ç–∞–≤–∏—Ç—å("Content-Type", "application/json");
            –û—Ç–≤–µ—Ç.–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å–¢–µ–ª–æ–ò–∑–°—Ç—Ä–æ–∫–∏("{""error"": ""Invalid signature""}");
            –í–æ–∑–≤—Ä–∞—Ç –û—Ç–≤–µ—Ç;
        –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
        
        // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏–µ
        –¢–∏–ø–°–æ–±—ã—Ç–∏—è = –î–∞–Ω–Ω—ã–µWebhook.event_type;
        
        –ï—Å–ª–∏ –¢–∏–ø–°–æ–±—ã—Ç–∏—è = "order.created" –¢–æ–≥–¥–∞
            // –ù–æ–≤—ã–π –∑–∞–∫–∞–∑ —Å–æ–∑–¥–∞–Ω
            –û–±—Ä–∞–±–æ—Ç–∞—Ç—å–ù–æ–≤—ã–π–ó–∞–∫–∞–∑(–î–∞–Ω–Ω—ã–µWebhook.data);
            
        –ò–Ω–∞—á–µ–ï—Å–ª–∏ –¢–∏–ø–°–æ–±—ã—Ç–∏—è = "order.updated" –¢–æ–≥–¥–∞
            // –ó–∞–∫–∞–∑ –æ–±–Ω–æ–≤–ª–µ–Ω
            –û–±—Ä–∞–±–æ—Ç–∞—Ç—å–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ–ó–∞–∫–∞–∑–∞(–î–∞–Ω–Ω—ã–µWebhook.data);
            
        –ò–Ω–∞—á–µ–ï—Å–ª–∏ –¢–∏–ø–°–æ–±—ã—Ç–∏—è = "order.cancelled" –¢–æ–≥–¥–∞
            // –ó–∞–∫–∞–∑ –æ—Ç–º–µ–Ω–µ–Ω
            –û–±—Ä–∞–±–æ—Ç–∞—Ç—å–û—Ç–º–µ–Ω—É–ó–∞–∫–∞–∑–∞(–î–∞–Ω–Ω—ã–µWebhook.data);
            
        –ò–Ω–∞—á–µ
            –ó–∞–ø–∏—Å–∞—Ç—å–õ–æ–≥("–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ", "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ç–∏–ø —Å–æ–±—ã—Ç–∏—è webhook: " + –¢–∏–ø–°–æ–±—ã—Ç–∏—è);
        –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
        
        // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
        –û—Ç–≤–µ—Ç.–ó–∞–≥–æ–ª–æ–≤–∫–∏.–í—Å—Ç–∞–≤–∏—Ç—å("Content-Type", "application/json");
        –û—Ç–≤–µ—Ç.–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å–¢–µ–ª–æ–ò–∑–°—Ç—Ä–æ–∫–∏("{""status"": ""ok""}");
        
    –ò—Å–∫–ª—é—á–µ–Ω–∏–µ
        –¢–µ–∫—Å—Ç–û—à–∏–±–∫–∏ = –û–ø–∏—Å–∞–Ω–∏–µ–û—à–∏–±–∫–∏();
        –ó–∞–ø–∏—Å–∞—Ç—å–õ–æ–≥("–û—à–∏–±–∫–∞", "–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ webhook: " + –¢–µ–∫—Å—Ç–û—à–∏–±–∫–∏);
        
        –û—Ç–≤–µ—Ç = –ù–æ–≤—ã–π HTTP–°–µ—Ä–≤–∏—Å–û—Ç–≤–µ—Ç(500);
        –û—Ç–≤–µ—Ç.–ó–∞–≥–æ–ª–æ–≤–∫–∏.–í—Å—Ç–∞–≤–∏—Ç—å("Content-Type", "application/json");
        –û—Ç–≤–µ—Ç.–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å–¢–µ–ª–æ–ò–∑–°—Ç—Ä–æ–∫–∏("{""error"": """ + –¢–µ–∫—Å—Ç–û—à–∏–±–∫–∏ + """}");
    –ö–æ–Ω–µ—Ü–ü–æ–ø—ã—Ç–∫–∏;
    
    –í–æ–∑–≤—Ä–∞—Ç –û—Ç–≤–µ—Ç;
    
–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏
```

### –ü—Ä–∏–º–µ—Ä 7: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç—á–µ—Ç—ã

```1c
// –°–æ–∑–¥–∞–π—Ç–µ –æ—Ç—á–µ—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

// –ó–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∑–∞ –ø–µ—Ä–∏–æ–¥:

–ó–∞–ø—Ä–æ—Å = –ù–æ–≤—ã–π –ó–∞–ø—Ä–æ—Å;
–ó–∞–ø—Ä–æ—Å.–¢–µ–∫—Å—Ç = 
"–í–´–ë–†–ê–¢–¨
|    –ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞.–ü—Ä–∏–∑–Ω–∞–∫–ê–≥–µ–Ω—Ç–∞ –ö–ê–ö –ü–æ—Å—Ç–∞–≤—â–∏–∫,
|    –ö–û–õ–ò–ß–ï–°–¢–í–û(–†–ê–ó–õ–ò–ß–ù–´–ï –ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞.–°—Å—ã–ª–∫–∞) –ö–ê–ö –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ–ó–∞–∫–∞–∑–æ–≤,
|    –°–£–ú–ú–ê(–£—Å—Ç–∞–Ω–æ–≤–∫–∞–¶–µ–Ω–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä—ã–¢–æ–≤–∞—Ä—ã.–¶–µ–Ω–∞) –ö–ê–ö –°—É–º–º–∞–ó–∞–∫–∞–∑–æ–≤,
|    –°–†–ï–î–ù–ï–ï(–£—Å—Ç–∞–Ω–æ–≤–∫–∞–¶–µ–Ω–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä—ã–¢–æ–≤–∞—Ä—ã.–¶–µ–Ω–∞) –ö–ê–ö –°—Ä–µ–¥–Ω—è—è–¶–µ–Ω–∞
|–ò–ó
|    –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫.–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞ –ö–ê–ö –ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞
|    –õ–ï–í–û–ï –°–û–ï–î–ò–ù–ï–ù–ò–ï –î–æ–∫—É–º–µ–Ω—Ç.–£—Å—Ç–∞–Ω–æ–≤–∫–∞–¶–µ–Ω–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä—ã.–¢–æ–≤–∞—Ä—ã –ö–ê–ö –£—Å—Ç–∞–Ω–æ–≤–∫–∞–¶–µ–Ω–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä—ã–¢–æ–≤–∞—Ä—ã
|        –ü–û –ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞.–°—Å—ã–ª–∫–∞ = –£—Å—Ç–∞–Ω–æ–≤–∫–∞–¶–µ–Ω–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä—ã–¢–æ–≤–∞—Ä—ã.–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞
|–ì–î–ï
|    –ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞.–î–∞—Ç–∞–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ú–ï–ñ–î–£ &–ù–∞—á–∞–ª–æ–ü–µ—Ä–∏–æ–¥–∞ –ò &–ö–æ–Ω–µ—Ü–ü–µ—Ä–∏–æ–¥–∞
|    –ò –ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞.–†–æ–¥–∏—Ç–µ–ª—å = &–ì—Ä—É–ø–ø–∞–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä—ã
|–°–ì–†–£–ü–ü–ò–†–û–í–ê–¢–¨ –ü–û
|    –ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞.–ü—Ä–∏–∑–Ω–∞–∫–ê–≥–µ–Ω—Ç–∞";

–ó–∞–ø—Ä–æ—Å.–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å–ü–∞—Ä–∞–º–µ—Ç—Ä("–ù–∞—á–∞–ª–æ–ü–µ—Ä–∏–æ–¥–∞", –ù–∞—á–∞–ª–æ–î–Ω—è(–¢–µ–∫—É—â–∞—è–î–∞—Ç–∞() - 7*86400));
–ó–∞–ø—Ä–æ—Å.–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å–ü–∞—Ä–∞–º–µ—Ç—Ä("–ö–æ–Ω–µ—Ü–ü–µ—Ä–∏–æ–¥–∞", –ö–æ–Ω–µ—Ü–î–Ω—è(–¢–µ–∫—É—â–∞—è–î–∞—Ç–∞()));
–ó–∞–ø—Ä–æ—Å.–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å–ü–∞—Ä–∞–º–µ—Ç—Ä("–ì—Ä—É–ø–ø–∞–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä—ã", 
    –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏.–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞.–ù–∞–π—Ç–∏–ü–æ–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏—é("–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è API"));

–†–µ–∑—É–ª—å—Ç–∞—Ç = –ó–∞–ø—Ä–æ—Å.–í—ã–ø–æ–ª–Ω–∏—Ç—å();
–í—ã–±–æ—Ä–∫–∞ = –†–µ–∑—É–ª—å—Ç–∞—Ç.–í—ã–±—Ä–∞—Ç—å();

–°–æ–æ–±—â–∏—Ç—å("=== –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π ===");
–ü–æ–∫–∞ –í—ã–±–æ—Ä–∫–∞.–°–ª–µ–¥—É—é—â–∏–π() –¶–∏–∫–ª
    –°–æ–æ–±—â–∏—Ç—å(–°—Ç—Ä–®–∞–±–ª–æ–Ω(
        "–ü–æ—Å—Ç–∞–≤—â–∏–∫: %1, –ó–∞–∫–∞–∑–æ–≤: %2, –°—É–º–º–∞: %3, –°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞: %4",
        –í—ã–±–æ—Ä–∫–∞.–ü–æ—Å—Ç–∞–≤—â–∏–∫,
        –í—ã–±–æ—Ä–∫–∞.–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ–ó–∞–∫–∞–∑–æ–≤,
        –§–æ—Ä–º–∞—Ç(–í—ã–±–æ—Ä–∫–∞.–°—É–º–º–∞–ó–∞–∫–∞–∑–æ–≤, "–ß–î–¶=2"),
        –§–æ—Ä–º–∞—Ç(–í—ã–±–æ—Ä–∫–∞.–°—Ä–µ–¥–Ω—è—è–¶–µ–Ω–∞, "–ß–î–¶=2")));
–ö–æ–Ω–µ—Ü–¶–∏–∫–ª–∞;
```

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã

### 1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –ø–µ—Å–æ—á–Ω–∏—Ü–µ

```1c
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π API –ø–µ—Ä–µ–¥ —Ä–∞–±–æ—Ç–æ–π —Å –ø—Ä–æ–¥–∞–∫—à–Ω:

–§—É–Ω–∫—Ü–∏—è –ü–æ–ª—É—á–∏—Ç—åURL–°–µ—Ä–≤–µ—Ä–∞()
    
    #–ï—Å–ª–∏ –°–µ—Ä–≤–µ—Ä –¢–æ–≥–¥–∞
        –†–µ–∂–∏–º–†–∞–±–æ—Ç—ã = –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã.–†–µ–∂–∏–º–†–∞–±–æ—Ç—ã–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.–ü–æ–ª—É—á–∏—Ç—å();
        
        –ï—Å–ª–∏ –†–µ–∂–∏–º–†–∞–±–æ—Ç—ã = –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è.–†–µ–∂–∏–º—ã–†–∞–±–æ—Ç—ã–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.–¢–µ—Å—Ç–æ–≤—ã–π –¢–æ–≥–¥–∞
            –í–æ–∑–≤—Ä–∞—Ç "api-test.example.com"; // –ü–µ—Å–æ—á–Ω–∏—Ü–∞
        –ò–Ω–∞—á–µ
            –í–æ–∑–≤—Ä–∞—Ç "api.example.com"; // –ü—Ä–æ–¥–∞–∫—à–Ω
        –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
    #–ö–æ–Ω–µ—Ü–ï—Å–ª–∏
    
    –í–æ–∑–≤—Ä–∞—Ç "api-test.example.com";
    
–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏
```

### 2. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

```1c
// –í–∫–ª—é—á–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ:

–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –ó–∞–ø–∏—Å–∞—Ç—å–õ–æ–≥(–£—Ä–æ–≤–µ–Ω—å, –¢–µ–∫—Å—Ç)
    
    –ù–∞—Å—Ç—Ä–æ–π–∫–∏–õ–æ–≥–∞ = –ú–æ–¥—É–ª—å–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.–ü–æ–ª—É—á–∏—Ç—å–ù–∞—Å—Ç—Ä–æ–π–∫–∏–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è();
    
    –ï—Å–ª–∏ –£—Ä–æ–≤–µ–Ω—å = "–û—Ç–ª–∞–¥–∫–∞" –ò –ù–∞—Å—Ç—Ä–æ–π–∫–∏–õ–æ–≥–∞.–£—Ä–æ–≤–µ–Ω—å–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è <> "–û—Ç–ª–∞–¥–∫–∞" –¢–æ–≥–¥–∞
        –í–æ–∑–≤—Ä–∞—Ç;
    –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
    
    // –í—ã–≤–æ–¥ –≤ —Å–æ–æ–±—â–µ–Ω–∏—è
    –°–æ–æ–±—â–∏—Ç—å(–°—Ç—Ä–®–∞–±–ª–æ–Ω("[%1] %2: %3", –¢–µ–∫—É—â–∞—è–î–∞—Ç–∞(), –£—Ä–æ–≤–µ–Ω—å, –¢–µ–∫—Å—Ç));
    
    // –ó–∞–ø–∏—Å—å –≤ –∂—É—Ä–Ω–∞–ª —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
    –ï—Å–ª–∏ –ù–∞—Å—Ç—Ä–æ–π–∫–∏–õ–æ–≥–∞.–ó–∞–ø–∏—Å—ã–≤–∞—Ç—å–í–ñ—É—Ä–Ω–∞–ª–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –¢–æ–≥–¥–∞
        –£—Ä–æ–≤–µ–Ω—å–ñ—É—Ä–Ω–∞–ª–∞ = –£—Ä–æ–≤–µ–Ω—å–ñ—É—Ä–Ω–∞–ª–∞–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è;
        
        –ï—Å–ª–∏ –£—Ä–æ–≤–µ–Ω—å = "–û—à–∏–±–∫–∞" –¢–æ–≥–¥–∞
            –£—Ä–æ–≤–µ–Ω—å–ñ—É—Ä–Ω–∞–ª–∞ = –£—Ä–æ–≤–µ–Ω—å–ñ—É—Ä–Ω–∞–ª–∞–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.–û—à–∏–±–∫–∞;
        –ò–Ω–∞—á–µ–ï—Å–ª–∏ –£—Ä–æ–≤–µ–Ω—å = "–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ" –¢–æ–≥–¥–∞
            –£—Ä–æ–≤–µ–Ω—å–ñ—É—Ä–Ω–∞–ª–∞ = –£—Ä–æ–≤–µ–Ω—å–ñ—É—Ä–Ω–∞–ª–∞–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ;
        –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
        
        –ó–∞–ø–∏—Å—å–ñ—É—Ä–Ω–∞–ª–∞–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏(
            "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è",
            –£—Ä–æ–≤–µ–Ω—å–ñ—É—Ä–Ω–∞–ª–∞,
            ,
            ,
            –¢–µ–∫—Å—Ç);
    –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
    
–ö–æ–Ω–µ—Ü–ü—Ä–æ—Ü–µ–¥—É—Ä—ã
```

### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö

```1c
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞–∫–µ—Ç–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É:

–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –û–±—Ä–∞–±–æ—Ç–∞—Ç—å–ó–∞–∫–∞–∑—ã–ü–∞–∫–µ—Ç–∞–º–∏(–ú–∞—Å—Å–∏–≤–ó–∞–∫–∞–∑–æ–≤, –†–∞–∑–º–µ—Ä–ü–∞–∫–µ—Ç–∞ = 10)
    
    –í—Å–µ–≥–æ–ó–∞–∫–∞–∑–æ–≤ = –ú–∞—Å—Å–∏–≤–ó–∞–∫–∞–∑–æ–≤.–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ();
    –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ–ó–∞–∫–∞–∑–æ–≤ = 0;
    
    –î–ª—è –ò–Ω–¥–µ–∫—Å = 0 –ü–æ –í—Å–µ–≥–æ–ó–∞–∫–∞–∑–æ–≤ - 1 –¶–∏–∫–ª
        
        –î–∞–Ω–Ω—ã–µ–ó–∞–∫–∞–∑–∞ = –ú–∞—Å—Å–∏–≤–ó–∞–∫–∞–∑–æ–≤[–ò–Ω–¥–µ–∫—Å];
        
        –ü–æ–ø—ã—Ç–∫–∞
            –û–±—Ä–∞–±–æ—Ç–∞—Ç—å–û–¥–∏–Ω–ó–∞–∫–∞–∑(–î–∞–Ω–Ω—ã–µ–ó–∞–∫–∞–∑–∞);
            –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ–ó–∞–∫–∞–∑–æ–≤ = –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ–ó–∞–∫–∞–∑–æ–≤ + 1;
        –ò—Å–∫–ª—é—á–µ–Ω–∏–µ
            // –õ–æ–≥–∏—Ä—É–µ–º –∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º
            –ó–∞–ø–∏—Å–∞—Ç—å–õ–æ–≥("–û—à–∏–±–∫–∞", "–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–∫–∞–∑–∞: " + –û–ø–∏—Å–∞–Ω–∏–µ–û—à–∏–±–∫–∏());
        –ö–æ–Ω–µ—Ü–ü–æ–ø—ã—Ç–∫–∏;
        
        // –î–µ–ª–∞–µ–º –ø–∞—É–∑—É –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –ø–∞–∫–µ—Ç–∞
        –ï—Å–ª–∏ (–ò–Ω–¥–µ–∫—Å + 1) % –†–∞–∑–º–µ—Ä–ü–∞–∫–µ—Ç–∞ = 0 –¢–æ–≥–¥–∞
            –°–æ–æ–±—â–∏—Ç—å(–°—Ç—Ä–®–∞–±–ª–æ–Ω("–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ %1 –∏–∑ %2", –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ–ó–∞–∫–∞–∑–æ–≤, –í—Å–µ–≥–æ–ó–∞–∫–∞–∑–æ–≤));
            // –û—Å–≤–æ–±–æ–∂–¥–∞–µ–º —Ä–µ—Å—É—Ä—Å—ã
            –û—Å–≤–æ–±–æ–¥–∏—Ç—å–û–±—ä–µ–∫—Ç();
        –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
        
    –ö–æ–Ω–µ—Ü–¶–∏–∫–ª–∞;
    
–ö–æ–Ω–µ—Ü–ü—Ä–æ—Ü–µ–¥—É—Ä—ã
```

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í—Å–µ –ø—Ä–∏–º–µ—Ä—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ –ø—Ä–æ–¥–∞–∫—à–Ω —Å—Ä–µ–¥–µ —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏.

